# ─── Slack ────────────────────────────────────────────────────────────────────
SLACK_BOT_TOKEN=xoxb-...
SLACK_APP_TOKEN=xapp-...          # Socket Mode app-level token
SLACK_SIGNING_SECRET=...

# Channel IDs (copy from channel URL or right-click > Copy Link in Slack)
DEAL_RADAR_CHANNEL_ID=C0XXXXXXXXX
DEAL_TEAM_CHANNEL_ID=C0XXXXXXXXX   # fallback general channel

# ─── Attio ────────────────────────────────────────────────────────────────────
ATTIO_API_KEY=...
# Attio workspace slug (found in your Attio URL: app.attio.com/<slug>)
ATTIO_WORKSPACE_SLUG=wonder-studios
# Attio object type slug for deals (check your Attio settings)
ATTIO_DEAL_OBJECT=deals
ATTIO_CONTACT_OBJECT=people
ATTIO_COMPANY_OBJECT=companies

# ─── Notion ───────────────────────────────────────────────────────────────────
NOTION_TOKEN=secret_...
# The Notion database ID for the Production Calendar
# (found in the DB page URL: notion.so/<workspace>/<DATABASE_ID>?v=...)
NOTION_PRODUCTION_DB_ID=...

# ─── Anthropic / Claude ───────────────────────────────────────────────────────
ANTHROPIC_API_KEY=sk-ant-...

# ─── Google (Gmail + Calendar) ────────────────────────────────────────────────
# Path to your downloaded OAuth credentials JSON from Google Cloud Console
GOOGLE_CREDENTIALS_FILE=credentials.json
# After first auth run, token is saved here
GOOGLE_TOKEN_FILE=token.json
# Your work Google account
GOOGLE_ACCOUNT_EMAIL=your@wonderstudios.com

# ─── Webhook (Pipedream integration) ─────────────────────────────────────────
# Set the same value in your Pipedream workflow as the X-Webhook-Secret header
WEBHOOK_SECRET=change-me-to-a-random-secret
WEBHOOK_PORT=8765

# ─── Railway / Cloud ──────────────────────────────────────────────────────────
# SQLite path — locally defaults to rabbit_state.db in project root
# On Railway: set to /data/rabbit_state.db (Persistent Volume)
DB_PATH=rabbit_state.db

# Google credentials as base64 — needed in cloud (Railway) only.
# Run locally first so token.json + credentials.json exist, then:
#   base64 -i credentials.json | tr -d '\n'   →  paste below
GOOGLE_CREDENTIALS_JSON=
#   base64 -i token.json | tr -d '\n'         →  paste below
GOOGLE_TOKEN_JSON=

# ─── App Config ───────────────────────────────────────────────────────────────
# Timezone for all scheduling (e.g. America/New_York, Europe/London)
TIMEZONE=America/New_York
# Minimum probability % to include in forecasts
FORECAST_MIN_PROBABILITY=30
# Days without update before a deal is considered "stale"
STALE_DEAL_DAYS=21
# Production lead time in days (how far ahead to flag capacity conflicts)
CAPACITY_LOOKAHEAD_DAYS=90
